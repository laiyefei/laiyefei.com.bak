---
layout: post
title: 精通Go语言之路（零） 【统筹篇】
tags: GoLang Google  
categories: 编程语言
---

* TOC
{:toc}

# 序言
任何武功练到极致，都非常的厉害，编程也是一样，有扎实的基本功，再选择一门语言去精通，去磨练，去学习大牛的思想，也能有很大的收益。作为google的fans，作为开源的爱好者，我果断选择了Go语言。废话不多说，精通Go语言之路势在必行【← _ ←...对于那些喷Go语言的，我只想说，你特么那么屌，可以去完善它】。


# 大纲
千里之行，始于足下，目标明确，路还是要一步一步走的。今天，笔者就 **整体** 上从和大家聊一聊Go语言吧。

· 修炼五步曲【网上看到，感觉很对】：

  > 第一阶段【菜逼】：刚刚学习了这门语言。了解基本的语法，可以写短的代码片段。

  > 第二阶段【探索者】：可以写一个完整的程序，但不懂一些更高级的语言特征，比如“channels”。还没有使用GO写一个大项目。

  > 第三阶段【老手】：你能熟练的使用Go, 能够用GO去解决，生产环境中一个具体和完整的问题。已经形成了一套自己的惯用法和常用代码库。在你的编码方案中Go是一个非常好用的工具。

  > 第四阶段【大神】：绝逼清楚Go语言的设计选择和背后的动机。能理解的简洁和可组合性哲学。

  > 最终阶段【布道师】：积极地与他人分享关于Go语言知识和你对Go语言的理解。在各种合适的场所发出自己的声音, 参与邮件列表、建立QQ群、做专题报告。成为一个布道者不见得是一个完全独立的阶段，这个角色可以在上述的任何一个阶段中。

## 定义
~~~
Go语言是谷歌开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言，可以在不损失应用程序性能的情况下降低代码的复杂性。为了方便搜索和识别，有时会将其称为Golang。
~~~

## 解析

### 安装
~~~
1. 解压缩到目标文件夹
2. 配置环境变量
   · windows
       > 【环境变量添加 GOROOT=[目标文件夹]; GOBIN=[目标文件夹/bin]; GOPATH=[项目路径]; PATH = %GOBIN% + ";" + PATH;】
   · linux
       > vi /home/[账号]/.bash_profile【添加环境变量】
         > GOROOT=[目标文件夹]
         > export GOROOT
         > GOBIN=[目标文件夹/bin];
         > export GOBIN
         > GOPATH=[项目路径];
         > export GOPATH
         > export PATH=$PATH:$GOBIN
       > wq!
       > source /home/[账号]/.bash_profile【执行环境变量】

3. 查看环境变量【go env】

ps. 批处理命令少用空格。

~~~

### 语言特性

* 自动垃圾回收

~~~
Go语言作为一门新生的开发语言，当然不能忽略内存管理这个问题。又因为Go语言没有C++这么“强大”的指针计算功能，因此可以很自然地包含垃圾回收功能。
因为垃圾回收功能的支持，开发者无需担心所指向的对象失效的问题，因此Go语言中不需要delete关键字，也不需要free()方法来明确释放内存
~~~

* 更丰富的内置类型

~~~
不仅支持几乎所有语言都支持的简单内置类型（比如整型和浮点型等）外，还支持一些其他的高级类型，比如字典类型，map要知道这些类型在其他语言中都是通过包的形式引入的外部数据类型。
数组切片（Slice），类似于C++ STL中的vector，在Go也是一种内置的数据类型作为动态数组来使用。
这里满有一个颇为简单的解释：”既然绝大多数开发者都需要用到这个类型，为什么还非要每个人都写一行import语句来包含一个库？
~~~

* 函数多返回值

~~~
在C，C++中，包括其他的一些高级语言是不支持多个函数返回值的。但是这项功能又确实是需要的，
所以在C语言中一般通过将返回值定义成一个结构体，或者通过函数的参数引用的形式进行返回。
而在Go语言中，作为一种新型的语言，目标定位为强大的语言当然不能放弃对这一需求的满足，所以支持函数多返回值是必须的
~~~

* 错误处理

~~~
在Go中引入了三个关键字，分别是 defer、panic和recover
~~~

* 匿名函数和闭包

~~~
在Go语言中，所有的函数也是值类型，可以作为参数传递。Go语言支持常规的匿名函数和闭包，比如下列代码就定义了一个名为f的匿名函数，开发者可以随意对该匿名函数变量进行传递和调用：
f := func(x, y int) int {
  return x + y
}
~~~

* 类型和接口

~~~
这个特性是Go在实现OPP时候的一些特性，主要有这么几点:
1. Go语言没有很复杂的面向对象的概念，即没有继承和重载，其类型更像是C中的struct，并且直接使用了struct关键字，仅仅是最基本的类型组合功能。但是，尽管不支持这些语法特性，但是Go的OOP却同样可以实现这些功能，只是实现的形式上会有不同而已。
* 2. go 的非侵入式接口：接口和类型可以直接转换，甚至接口的定义都不用在类型定义之前，这种比较松散的对应关系可以大幅降低因为接口调整而导致的大量代码调整工作
~~~

* 并发编程

~~~
“Go语言引入了goroutine概念，它使得并发编程变得非常简单。通过使用goroutine而不是裸用操作系统的并发机制，
以及使用消息传递来共享内存而不是使用共享内存来通信，Go语言让并发编程变得更加轻盈和安全。
通过在函数调用前使用关键字go，我们即可让该函数以goroutine方式执行，goroutine是一种比线程更加轻盈、更省资源的协程。
Go语言实现了CSP【通信顺序进程，Communicating Sequential Process】模型来作为goroutine间的推荐通信方式，
在CSP模型中，一个并发系统由若干并行运行的顺序进程组成，每个进程不能对其他进程的变量赋值。进程之间只能通过一对通信原语实现协作。
Go语言用channel（通道）这个概念来轻巧地实现了CSP模型。channel的使用方式比较接近Unix系统中的管道（pipe）概念，可以方便地进行跨goroutine的通信。
由于一个进程内创建的所有goroutine运行在同一个内存地址空间中，因此如果不同的goroutine不得不去访问共享的内存变量，访问前应该先获取相应的读写锁。Go语言标准库中的sync包提供了完备的读写锁功能。
~~~

* 反射

~~~
可以用来获取对象类型的相信信息，并动态操作对象。
因为反射可能会对程序的可读性有很大的干扰，所以，在Go中只是在特别需要反射支持的地方才实现反射的一些功能。
“反射最常见的使用场景是做对象的序列化【serialization，有时候也叫Marshal & Unmarshal】
~~~

* 语言交互性

~~~
在Go语言中直接重用了大部份的C模块，这里称为Cgo.Cgo允许开发者混合编写C语言代码，
然后Cgo工具可以将这些混合的C代码提取并生成对于C功能的调用包装代码。开发者基本上可以完全忽略这个Go语言和C语言的边界是如何跨越的
~~~



## 求索

### 八卦
罗伯特·格瑞史莫，罗勃·派克（Rob Pike）及肯·汤普逊于2007年9月开始设计Go语言，稍后Ian Lance Taylor、Russ Cox加入项目。Go语言是基于Inferno操作系统所开发的。Go语言于2009年11月正式宣布推出，成为开放源代码项目，并在Linux及Mac OS X平台上进行了实现，后来追加了Windows系统下的实现。

### 优势
1. 部署简单
2. 并发性好
3. 良好的语言设计【从工程角度来看】
4. 执行性能好【适合一些业务瓶颈，内存占用很省】
5. 代码简洁，格式统一
6. 学习成本低
7. 自由高效，自由组合思想，无侵入式的接口【支持所有编程范式，想怎么玩就怎么玩】
8. 稳定性【go提供了软件生命周期各个环境的工具（开发，测试，部署，维护；包括：go tool，go fmt，go test）】


## 用途
1. 搭载 Web 服务器
2. 存储集群 或者 巨型中央服务器
3. 高性能分布式系统【海量并行】


# 总结
所以，Go语言是一门侧重于 **软件工程** 的语言，没有太多没用花哨的语法，是一门很灵活的语言，有内置完整的工具，对项目进行整体的把控。一般发布的Go语言项目，bug都很少，比较能够稳定的运行起来。Go语言的设计和哲学思想都是偏实用的，剔除了冗余的语法【比如 三元表达式】，这也许就是传说中的高中过招，一招定生死， **直击要害**，毕竟 **实用** 的项目才是关键。


↓
→ 简而言之，**Go语言** 是一门 **精简又强大** 的偏重 **软件工程化** 的 **编程语言**。


**（以上，仅代表个人观点。无论对错，欢迎交流。^_^ ）**
